//File created by Mohammad Nayan and fully coded by Nayan

const axios = require('axios');

module.exports = {
  config: {
    name: "bot",
    version: "1.0.0",
    permission: 0,
    credits: "OME",
    description: "talk with bot",
    prefix: 'awto',
    category: "talk",
    usages: "hi",
    cooldowns: 5,
  },

  handleReply: async function ({ api, event, handleReply }) {
    try {
      const response = await axios.get(`http://37.27.114.136:25472/sim?type=ask&ask=${encodeURIComponent(event.body)}`);
      console.log(response.data);
      const result = response.data.data.msg;


      api.sendMessage(result, event.threadID, (error, info) => {
        if (error) {
          console.error('Error replying to user:', error);
          return api.sendMessage('An error occurred while processing your request. Please try again later.', event.threadID, event.messageID);
        }
        global.client.handleReply.push({
          type: 'reply',
          name: this.config.name,
          messageID: info.messageID,
          author: event.senderID,
          head: event.body
        });
      }, event.messageID);

    } catch (error) {
      console.error('Error in handleReply:', error);
      api.sendMessage('An error occurred while processing your request. Please try again later.', event.threadID, event.messageID);
    }
  },



  start: async function ({ nayan, events, args, Users, permission }) {
    try {
      const msg = args.join(" ");
      const userPermission = events.senderID && (await Users.getData(events.senderID)).permission;
      const admin = global.config.ADMINBOT;
      const apiData = await axios.get('https://raw.githubusercontent.com/MOHAMMAD-NAYAN/Nayan/main/api.json');
      const apiUrl = apiData.data.sim;

      if (!msg) {
        const tl = [
  "আহ শুনা আমার তোমার অলিতে গলিতে উম্মাহ😇😘",
  " কি গো সোনা আমাকে ডাকছ কেনো",
  "বার বার আমাকে ডাকস কেন😡",
  "জান সেক্স করবা💦",
  "অমি বসের নুনু চুষে দে মাগি🤒",
  "Need gf👉😩👰‍♀️",
  "- তর্ক না করে চু* দিন🫦🗡️",
  "সখের বেডি 👰 হাত মারে💦",
  "হিসু করে টিসু ব্যবহার না করে,,, to টিসুর জায়গায় চোতরা পাতা ব্যবহার করেন,,,🙂",
   "জান আসো তোমাকে চুদবো🍌😑",
    "লোক লজ্জায় বলতে পারি না😩",
"এখন পর্যন্ত নুনু তে বেলুন লাগাই নাই।🍌🙏",
"অমি বসের গাল ফ্রেন্ড নাই🤭",
  "চুদার বয়সে হাত মারি 💦🥵,",
  "তোমাকে চুদবো🍌😩",
  "জান অমি ভাইয়ের নুনু চুষে দিবা🍌💦",
  "চুদাই শান্তি চুদাই বল👉👌",
  "জান সেক্স উঠে গেলো🤭",
  "জান তোমার ভোদার কালার কি 💦🥵🫶",
  "জান আমার মুত খাবা💦🙏",
  "জান দুদু খেতে দিবা🍼",
  "জান চলো চুদা চুদি করি👉👌",
  "চুদে তোর ভুদা ফাক করে দিবো",
  "চুদার জগতের রাজা আমি",
  "বস অমি অনেক ডিপ্রেশন আছে 💔",
  "ছলনা ময়ীর মাকে চূদি",
  "জান আসো মাল আউট করবো💦🥵",
  "তোর গালে আমার নুনু দিবো চুষে দিবা🤧💦",
"ভালোবাসি তোমাকে অনেক জান🫶😍",
  "আহ শোনা আমার আমাকে এতো ডাক্তাছো কেনো আসো বুকে আশো🥱",
  "হুম জান তোমার অইখানে উম্মমাহ😷😘",
  " আসসালামু আলাইকুম বলেন আপনার জন্য কি করতে পারি",
  "আমাকে এতো না ডেকে বস অমি একটা গফ দে 🙄",
  "jang hanga korba",
  "jang bal falaba🙂"
];
        var name = await Users.getNameUser(events.senderID);
        var rand = tl[Math.floor(Math.random() * tl.length)];
        return nayan.reply({ 
              body: `❍\n╰ কিরে মাগির পোলা👤 𝐃𝐞𝐚𝐫 『${name}』,\n╰ 🗣️ ${rand}\n
              mentions: [{ tag: name, id: events.senderID }] }, events.threadID, (error, info) => {
          if (error) {
            return nayan.reply('An error occurred while processing your request. Please try again later.', events.threadID, events.messageID);
          }

          global.client.handleReply.push({
            type: 'reply',
            name: this.config.name,
            messageID: info.messageID,
            author: events.senderID,
            head: msg,
          });
        }, events.messageID);
      } 

        else if (msg.startsWith("delete")) {
            const userPermission = events.senderID && (await Users.getData(events.senderID)).permission;
            const admin = global.config.ADMINBOT;

            if (!admin.includes(events.senderID.toString())) {
                return nayan.reply('You do not have permission to use this command.', events.threadID, events.messageID);
            }

            const deleteParams = msg.replace("delete", "").trim().split("&");
            const question = deleteParams[0].replace("ask=", "").trim();
            const answer = deleteParams[1].replace("ans=", "").trim();

            const response = await axios.get(`${apiUrl}/sim?type=delete&ask=${encodeURIComponent(question)}&ans=${encodeURIComponent(answer)}`);
            const replyMessage = response.data.msg || response.data.data.msg;

            return nayan.reply({ body: replyMessage }, events.threadID, events.messageID);
        }
      else if (msg.startsWith("info")) {
        const response = await axios.get(`${apiUrl}/sim?type=info`);
        const totalAsk = response.data.data.totalKeys;
        const totalAns = response.data.data.totalResponses;

        return nayan.reply({ body: `Total Ask: ${tota
